# 北航智能日历系统

一个专为北航学生设计的智能日历系统，集成了课程管理、任务安排、智能输入和LLM辅助功能，帮助学生高效管理时间和任务。

## 项目简介

北航智能日历系统是一个全栈Web应用，旨在为北航学生提供一个集成化的时间管理平台。系统结合了传统日历功能与AI智能助手，能够自动解析任务描述、生成日程安排，并提供个性化的时间管理建议。

## 技术栈

### 后端

- **框架**: Flask 2.0+
- **数据库**: SQLAlchemy (SQLite)
- **认证**: JWT
- **LLM集成**: 支持多种大语言模型API
- **API设计**: RESTful

### 前端

- **框架**: Vue 3
- **构建工具**: Vite
- **状态管理**: Pinia
- **UI组件**: 
  - FullCalendar (日历视图)
  - Chart.js (数据可视化)
- **HTTP客户端**: Axios

## 功能特性

### 核心功能

- **课程管理**: 自动导入北航课程表，支持手动调整和冲突检测
- **任务管理**: 创建、编辑、删除任务，支持优先级、截止日期和完成状态跟踪
- **日历视图**: 直观展示日程安排，支持拖拽调整
- **四象限视图**: 基于重要性和紧急性的任务管理视图，帮助用户高效分配时间
- **同步作业功能**: 支持从SPOC自动同步作业信息，包括截止日期和提交状态
- **智能输入**: 支持自然语言输入任务，自动解析时间和内容
- **LLM辅助**: 利用大语言模型生成智能日程建议和任务完成安排
- **提醒服务**: 多级提醒系统，支持课程、作业和考试的自定义提醒时间
- **手机端支持**: 完整的移动端适配，支持iOS和Android设备

### 高级功能

- **剪贴板队列**: 批量处理复制的任务内容
- **事件编辑**: 拖拽调整事件时间，快速编辑，支持颜色自动分配
- **设置面板**: 个性化配置系统参数，包括主题颜色和精力周期
- **专注模式**: 提供无干扰的专注工作环境，支持自定义专注时长
- **头像设置**: 支持上传和管理用户头像
- **数据本地保存**: 所有数据保存在本地SQLite数据库，确保隐私安全
- **深色模式**: 支持浅色/深色主题切换，适配不同使用环境
- **响应式设计**: 自动适配不同屏幕尺寸，提供最佳用户体验

## 项目结构

```
intelligent-calendar-for-BUAAer/
├── backend/                 # 后端代码
│   ├── models/             # 数据模型
│   ├── routes/             # API路由
│   ├── services/           # 业务逻辑
│   ├── utils/              # 工具函数
│   ├── app.py              # 应用入口
│   ├── config.py           # 配置文件
│   ├── extensions.py       # 扩展初始化
│   └── requirements.txt    # 依赖列表
├── frontend/               # 前端代码
│   ├── public/             # 静态资源
│   ├── src/                # 源代码
│   ├── index.html          # HTML模板
│   ├── package.json        # 依赖配置
│   └── vite.config.js      # Vite配置
├── .gitignore              # Git忽略文件
├── README.md               # 项目说明文档
├── INSTALLATION.md         # 详细安装指南
└── run_app.py              # 应用启动脚本
```

## 快速开始

### 环境要求

- Node.js 16.x 或更高
- Python 3.8 或更高
- npm 8.x 或更高
- pip 20.x 或更高

### 安装与运行

请参考详细的[安装指南](./INSTALLATION.md)，包含：

- Node.js 和 Python 安装步骤
- 项目代码获取方法
- 后端环境配置
- 前端环境配置
- EasyOCR 安装与替代方案
- 常见问题与解决方案

### 启动应用

1. **启动后端服务**:
   
   ```bash
   cd backend
   python app.py
   ```

2. **启动前端服务**:
   
   ```bash
   cd frontend
   npm run dev
   ```

3. **访问应用**:
   在浏览器中访问 http://localhost:3000 即可使用应用。

## API文档

### 认证管理

- `POST /api/auth/buaa_id` - 设置北航学号
- `GET /api/auth/buaa_id` - 获取北航学号

### 课程管理

- `GET /api/courses` - 获取课程列表
- `POST /api/courses` - 添加课程
- `PUT /api/courses/<id>` - 更新课程
- `DELETE /api/courses/<id>` - 删除课程
- `POST /api/courses/sync_buaa` - 同步北航课程表
- `POST /api/courses/sync_buaa/<date>` - 按指定日期同步北航课程表

### 日历条目

- `GET /api/entries` - 获取所有条目
- `POST /api/entries` - 创建日历条目
- `PUT /api/entries/<id>` - 更新日历条目
- `DELETE /api/entries/<id>` - 删除日历条目
- `GET /api/entries/<date>` - 获取指定日期及之后7天内的所有条目

### 任务管理

- `GET /api/tasks` - 获取任务列表
- `POST /api/tasks` - 创建任务
- `PUT /api/tasks/<id>` - 更新任务
- `DELETE /api/tasks/<id>` - 删除任务
- `PUT /api/tasks/<id>/complete` - 标记任务为完成
- `PUT /api/tasks/<id>/uncomplete` - 标记任务为未完成

### 提醒管理

- `POST /api/reminders/upcoming` - 获取即将到来的提醒

## 功能模块详细说明

### 1. 课程管理

- 支持从北航教务系统自动导入课程表
- 提供手动添加、编辑、删除课程的功能
- 课程自动显示在日历视图中
- 支持课程冲突检测

### 2. 任务管理

- 支持创建不同类型的任务（作业、考试、项目等）
- 任务优先级设置（高、中、低）
- 截止日期提醒
- 任务完成状态跟踪
- 任务分类和标签

### 3. 智能输入

- 支持自然语言输入任务描述
- 自动解析时间、地点、优先级等信息
- 批量处理剪贴板内容
- 智能补全和建议

### 4. LLM辅助

- 利用大语言模型生成日程安排建议
- 自动优化时间分配
- 提供个性化的学习计划
- 支持多轮对话式交互

### 5. 日历视图

- 拖拽调整事件时间
- 事件详情查看和编辑
- 支持不同类型事件的颜色区分

### 6. 四象限视图

- **设计理念**: 基于时间管理四象限法则，将任务分为重要紧急、重要不紧急、不重要紧急、不重要不紧急四类
- **功能特性**: 直观的四象限网格布局，任务拖拽在不同象限间移动，支持按优先级和截止日期自动分类，提供四象限分布统计，一键生成日程安排建议
- **使用场景**: 高效规划每日任务，识别并优先处理重要紧急任务，合理分配时间给重要不紧急任务，减少不重要任务的时间消耗

### 7. 同步作业功能

- **同步来源**: 北航SPOC平台
- **同步内容**: 作业名称和描述，截止日期和时间，作业类型和权重，提交状态
- **同步方式**: 手动触发同步，自动定期同步，支持选择性同步
- **功能特性**: 作业自动生成到任务列表，截止日期自动设置提醒，支持作业状态更新，与日历视图集成显示

### 8. 手机端支持

- **访问方式**: 通过扫描PC端生成的二维码快速访问，直接输入URL访问，支持添加到手机桌面
- **核心功能支持**: 完整的课程管理功能，任务创建、编辑和完成状态管理，智能输入功能，日历视图查看和操作，四象限视图支持，SPOC作业同步，设置面板和个性化配置，深色模式切换
- **用户体验优化**: 响应式设计，适配不同手机屏幕尺寸，触摸友好的交互界面，优化的移动端性能，支持断网离线访问
- **连接方式**: 支持同一网络下的本地连接，支持通过cpolar内网穿透实现远程访问，自动检测最佳连接方式

### 9. 深色模式

- 支持手动切换和系统主题跟随
- 优化的深色配色方案，减少眼部疲劳
- 全组件深色模式支持
- 移动端和桌面端一致的深色体验

## 开发指南

### 代码规范

- 后端：遵循 PEP 8 规范
- 前端：遵循 Vue 3 最佳实践
- 提交信息：使用语义化提交信息

### 测试

- 后端：使用 pytest 进行单元测试
- 前端：使用 Vitest 进行组件测试
- 集成测试：使用 Postman 或 curl 进行API测试

### 开发流程

1. 创建分支：`git checkout -b feature/xxx`
2. 开发功能
3. 提交代码：`git commit -m "feat: add xxx feature"`
4. 推送分支：`git push origin feature/xxx`
5. 创建 Pull Request
6. 代码审查
7. 合并分支

## 贡献说明

欢迎各位开发者贡献代码！请遵循以下步骤：

1. Fork 本仓库
2. 创建特性分支
3. 提交代码
4. 运行测试
5. 创建 Pull Request

## 待完成功能

### 1. 更完整的优先级系统

- 支持多维度优先级设置（紧急程度、重要程度）
- 优先级可视化展示
- 基于优先级的智能排序和提醒

### 2. 学习偏好配置

- 允许用户设置更多的学习偏好（如与时间相联系的科目偏好）
- 根据偏好智能推荐学习计划
- 个性化学习路径生成

### 3. 任务完成数据统计与分析

- 可视化展示任务完成情况
- 分析学习效率和时间分配
- 生成学习报告和建议

### 4. 任务智能拆解功能

- 将复杂任务自动拆解为子任务
- 基于历史数据推荐合理的拆解方式
- 子任务进度跟踪和管理

### 5. 多方案冲突解决

- 当日程安排冲突时，自动生成多种解决方案
- 支持手动调整和优化
- 考虑用户偏好和优先级的冲突解决

### 6. 北航邮件集成

- 自动从北航邮件中提取任务和日程
- 支持邮件提醒和日历同步
- 邮件附件自动关联到相关任务

### 7. 基于历史数据预测任务耗时/识别拖延模式

- 分析历史任务完成时间，预测新任务耗时
- 识别用户的拖延模式和习惯
- 提供个性化的时间管理建议

### 8. 健康管理功能

- 集成健康数据（如睡眠、运动）
- 基于健康状态调整学习计划
- 提醒用户保持健康的工作-休息平衡

## 致谢

感谢所有为本项目做出贡献的开发者和测试人员！

---

**北航智能日历系统** - 让时间管理更智能，让学习生活更高效！